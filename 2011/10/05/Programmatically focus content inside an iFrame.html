<!doctype html>
<html>
  <head>
    <meta charset='utf-8' />
    <meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible' />
    <link type="text/css" href="/stylesheets/blog.css" rel="stylesheet" media="screen" />
  </head>
  <body>
    <header>
      <a href='/'>
        <h1>Days of the Condor</h1>
      </a>
    </header>
    <div class='page'>
      <div class='content'>
        <h2 class='title'>Programmatically focus content inside an iFrame</h2>
        <div class='date'>Oct  5, 2011</div>
        <p>This is a short one. On the Pixie landing page I was trying to use jQuery to focus on a game embedded via an iFrame. I tried</p>
<div class="highlight"><pre><span class="nx">$</span> <span class="o">-&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s">&#39;iframe&#39;</span><span class="p">).</span><span class="nx">contents</span><span class="p">().</span><span class="nx">find</span><span class="p">(</span><span class="s">&#39;canvas&#39;</span><span class="p">).</span><span class="nx">focus</span><span class="p">()</span>
</pre></div>
<p>but that didn’t work.</p>

<p>It turns out to get this working you need setTimeout. I guess the browser isn’t done loading the iFrame contents by the time jQuery says the DOM is ready.</p>
<div class="highlight"><pre><span class="nx">$</span> <span class="o">-&gt;</span>
  <span class="nx">setTimeout</span> <span class="o">-&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s">&#39;iframe&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
  <span class="p">,</span> <span class="mi">100</span>
</pre></div>
<p>Here’s the related <a href="http://stackoverflow.com/questions/369026/setting-focus-to-iframe-contents" target='_blank'>Stack Overflow question</a></p>
      </div>
      <nav class='sidebar small'>
        <h2>Recent Articles</h2>
        <ul>
          <li>
            <a href='/2011/10/05/Programmatically focus content inside an iFrame.html'>Programmatically focus content inside an iFrame</a>
            <div class='date'>Oct  5, 2011</div>
          </li>
          <li>
            <a href='/2011/09/20/jQuery-UI-Draggable-stop-drag-programmatically.html'>jQuery UI Draggable stop drag programmatically</a>
            <div class='date'>Sep 20, 2011</div>
          </li>
          <li>
            <a href='/2011/09/15/Arrays-and-jQuery-data-attributes.html'>Arrays and jQuery data attributes</a>
            <div class='date'>Sep 15, 2011</div>
          </li>
          <li>
            <a href='/2011/03/17/OS-X-dock-in-css.html'>OS X dock in css</a>
            <div class='date'>Mar 17, 2011</div>
          </li>
          <li>
            <a href='/2011/03/14/glass.sass.html'>glass.sass</a>
            <div class='date'>Mar 14, 2011</div>
          </li>
          <li>
            <a href='/2010/12/08/Snake-html.html'>Snake</a>
            <div class='date'>Dec  8, 2010</div>
          </li>
          <li>
            <a href='/2010/10/11/Contrasaurus-launched.html'>Contrasaurus launched</a>
            <div class='date'>Oct 11, 2010</div>
          </li>
          <li>
            <a href='/2010/08/31/Contrasaurus.html'>Contrasaurus</a>
            <div class='date'>Aug 31, 2010</div>
          </li>
        </ul>
      </nav>
    </div>
  </body>
</html>
