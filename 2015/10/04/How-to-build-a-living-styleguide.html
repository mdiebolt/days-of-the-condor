<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
    <title>Days of the Condor</title>
    <link href="http://fonts.googleapis.com/css?family=Lato:300|Libre+Baskerville" rel="stylesheet" type="text/css" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/blog.css" rel="stylesheet" type="text/css" />
    <link href="/images/favicon.png" rel="icon" type="image/png" />
  </head>
  <body><header m-fixed>
      <h1>
        <a href='/' m-no-underline>Days of the Condor</a>
      </h1>
      <div class='blog-information' m-top-right>
        <a class='blog-information--projects' href='https://github.com/mdiebolt'>Projects</a>
        <a class='blog-information--about' href='http://diebo.lt'>About</a>
        <div class='blog-information--recent-article-navigation'>
          <div class='blog-information--top-bar'></div>
          <div class='blog-information--middle-bar'></div>
          <div class='blog-information--bottom-bar'></div>
        </div>
      </div>
    </header><div class='blog-page'>
      <div class='blog-page--container'>
        <div class='blog-page--post'>
          <h2 class='title'>
            <a href="/2015/10/04/How-to-build-a-living-styleguide.html">How to build a living styleguide</a>
          </h2>
          <div class='blog-date' m-small>Oct  4, 2015</div>
          <div class='blog-date' m-fixed='' m-left=''>
            <div class='blog-date--month'>OCT</div>
            <div class='blog-date--day' m-bold> 4</div>
            <div class='blog-date--year'>2015</div>
          </div>
        </div>
        <p>At the time of writing, Bootstrap is the <a href="https://github.com/search?q=stars:%3E1&amp;s=stars&amp;type=Repositories">most starred</a> repository on GitHub. People love it and it&rsquo;s largely due to documentation. With styled output positioned alongside underlying markup, learning to build something that looks great is extremely intuitive.</p>
        
        <p>Bootstrap is not only a nice looking design tool, it also holds Twitter accountable for the quality of their CSS. If the code is a mess or a half baked design gets out, itâ€™s there for all <span js-bootstrap-stars>87,297</span> of those stars to see.</p>
        
        <p>I&rsquo;ve worked on projects where a developer or designer maintains a styleguide by hand, but it&rsquo;s never worked out. Almost immediately the guide become outdated. Manually adding markup and styles to a styleguide everytime a new widget or CSS file is added is an unreasonable development workflow. </p>
        
        <p>Automatically generating a living styleguide is an elegant way to solve this workflow problem. However, I&rsquo;ve always put it off because it seems like such a hassle to implement. Today I&rsquo;m here to tell you that with the right tool it&rsquo;s not such a Herculean effort after all.</p>
        
        <p>There are a few projects out there to generate styleguides. <a href="https://github.com/kss-node/kss-node">kss-node</a> is the one that grabbed my attention. KSS  provides a <a href="https://github.com/kneath/kss/blob/master/SPEC.md">spec</a> for documenting your CSS using simple, human readable comments, helping keep the documentation close to the source code. Unlike its canonical Ruby implementation, kss-node supports generating a full styleguide out of the box.</p>
        
        <p>Here&rsquo;s what it takes to create a styleguide. I&rsquo;m using Middleman to build my site but as long as you end up with some HTML, CSS, and JavaScript you&rsquo;ll be set.</p>
        
        <h2>Setup</h2>
        
        <p><code>middleman init</code> to start a fresh project.</p>
        
        <p><code>npm init</code> so that you can manage the kss-node npm dependency.</p>
        
        <p><code>npm install --save-dev kss</code> to install and save kss-node to package.json.</p>
        
        <h2>Build your publish script</h2>
        
        <p>I&rsquo;m using a <a href="/2015/09/30/dead-simple-github-page-publishing.html">simple shell script to build the site</a>, generate docs, and publish them to GitHub Pages.</p>
        <pre class="highlight shell"><code><span class="c">#!/bin/bash</span>&#x000A;&#x000A;<span class="c"># build the site with Middleman</span>&#x000A;bundle <span class="nb">exec </span>middleman build --clean&#x000A;&#x000A;<span class="c"># make sure kss-node is installed</span>&#x000A;npm install&#x000A;&#x000A;<span class="c"># configure kss-node to generate the styleguide</span>&#x000A;./node_modules/.bin/kss-node <span class="se">\</span>&#x000A;  --css public/site.css <span class="se">\</span>&#x000A;  --template <span class="nb">source</span>/styleguide_template <span class="se">\</span>&#x000A;  <span class="nb">source</span>/stylesheets styleguide&#x000A;&#x000A;<span class="c"># make sure the built styleguide has access to the main stylesheet</span>&#x000A;cp build/stylesheets/site.css styleguide/public/site.css&#x000A;&#x000A;<span class="c"># push the folder `styleguide` to repo's gh-pages branch</span>&#x000A;git subtree push --prefix styleguide origin gh-pages&#x000A;</code></pre>
        
        <p>The most interesting bit of this script is the kss-node configuration.</p>
        
        <p><code>--css</code> tells our styleguide which stylesheet needs to be loaded on the finished page so that it has the look and feel of your site.</p>
        
        <p><code>--template</code> allows us to override the structure of the generated styleguide. I found that the default used by kss-node didn&rsquo;t work very well. After a bit of Googling I <a href="https://github.com/htanjo/kss-node-template/tree/master/template">found one</a> that I liked a lot more. <code>source/styleguide_template</code> is where I chose to save my copy.</p>
        
        <p><code>source/stylesheets</code> is where our KSS documented styles live.</p>
        
        <p><code>build/styleguide</code> is where we want to output our generated styleguide.</p>
        
        <p>Now you can run this publish script and Middleman will build the site, kss-node will generate a styleguide, and it will be published to GitHub Pages.</p>
        
        <h3>Gotchas</h3>
        
        <p>Specifying a different <code>--homepage</code> location didn&rsquo;t work for me, so in order to create a styleguide homepage I had to create <code>source/stylesheets/styleguide.md</code>.</p>
        
        <p>Another issue I ran into while testing the generated styleguide is that the preview of pseudoselector styles didn&rsquo;t show up correctly when opening the file in my browser. This turned out to be an <a href="https://github.com/kss-node/kss-node/issues/51">issue</a> with accessing the page from the local filesystem and ended up working fine when served over http.</p>
        
        <p>That&rsquo;s it! Now go and write all the comments and have a beautiful living styleguide.</p>
        
        <h2>Finished product</h2>
        
        <p><a href="http://www.diebo.lt/kss-tutorial">Example</a></p>
        
        <p><a href="https://github.com/mdiebolt/kss-tutorial">Example source code</a></p>
        <div class='blog-social-media'>
          <a class='fa fa-3x fa-twitter blog-social-media--twitter' href='https://twitter.com/mdiebolt' m-no-underline></a>
          <a class='fa fa-3x fa-github blog-social-media--github' href='https://github.com/mdiebolt' m-no-underline></a>
        </div>
      </div>
    </div><nav class='blog-previous-posts' m-fixed-right>
      <div class='blog-previous-posts--container'>
        <img class="blog-logo" src="/images/logo.svg" />
        <h2 class='blog-previous-posts--title'>Articles</h2>
        <ul class='blog-previous-posts--list'>
          <li class='blog-previous-posts--article'>
            <a href='/2015/11/08/writing-your-own-coffeelint-plugin.html'>Writing your own CoffeeLint plugin</a>
            <div class='date'>Nov  8, 2015</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2015/10/08/using-coffeelint-for-consistency.html'>Using CoffeeLint for consistent code</a>
            <div class='date'>Oct  8, 2015</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2015/10/04/How-to-build-a-living-styleguide.html'>How to build a living styleguide</a>
            <div class='date'>Oct  4, 2015</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2015/09/30/dead-simple-github-page-publishing.html'>Dead simple GitHub Page publishing</a>
            <div class='date'>Sep 30, 2015</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2012/12/16/coffeescript-static-analysis.html'>CoffeeScript static analysis</a>
            <div class='date'>Dec 16, 2012</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2012/12/10/clean-bash-profiles.html'>Clean bash profiles</a>
            <div class='date'>Dec 10, 2012</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2011/10/05/Programmatically focus content inside an iFrame.html'>Programmatically focus content inside an iFrame</a>
            <div class='date'>Oct  5, 2011</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2011/09/20/jQuery-UI-Draggable-stop-drag-programmatically.html'>jQuery UI Draggable stop drag programmatically</a>
            <div class='date'>Sep 20, 2011</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2011/09/15/Arrays-and-jQuery-data-attributes.html'>Arrays and jQuery data attributes</a>
            <div class='date'>Sep 15, 2011</div>
          </li>
          <li class='blog-previous-posts--article'>
            <a href='/2011/03/17/OS-X-dock-in-css.html'>OS X dock in css</a>
            <div class='date'>Mar 17, 2011</div>
          </li>
        </ul>
      </div>
    </nav>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-20149612-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script src="/javascripts/site.js" type="text/javascript"></script>
  </body>
</html>
